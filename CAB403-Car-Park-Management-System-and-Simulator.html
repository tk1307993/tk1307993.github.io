<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">










  <meta name="baidu-site-verification" content="YFxkzhwIVx">







  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Fundamentals,">





  <link rel="alternate" href="/atom.xml" title="留学生计算机编程数学统计作业代写" type="application/atom+xml">






<meta name="description" content="完成小组任务的一部分，开发和提交与停车场管理系统(Car Park Management System)相关的三个软件。">
<meta name="keywords" content="Fundamentals">
<meta property="og:type" content="article">
<meta property="og:title" content="CAB403-Car-Park-Management-System-and-Simulator">
<meta property="og:url" content="cplusplusdaixie.com/CAB403-Car-Park-Management-System-and-Simulator.html">
<meta property="og:site_name" content="留学生计算机编程数学统计作业代写">
<meta property="og:description" content="完成小组任务的一部分，开发和提交与停车场管理系统(Car Park Management System)相关的三个软件。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2023-05-27T13:29:22.588Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CAB403-Car-Park-Management-System-and-Simulator">
<meta name="twitter:description" content="完成小组任务的一部分，开发和提交与停车场管理系统(Car Park Management System)相关的三个软件。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":true,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="cplusplusdaixie.com/CAB403-Car-Park-Management-System-and-Simulator.html">





  <title>CAB403-Car-Park-Management-System-and-Simulator | 留学生计算机编程数学统计作业代写</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">留学生计算机编程数学统计作业代写</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">专业 高效 原创 QQ：1926742804 微信：349583866</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-首页">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-分类">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-标签">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-归档">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-关于我">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于我
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="cplusplusdaixie.com/CAB403-Car-Park-Management-System-and-Simulator.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="CPlusPlus小砖家">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="留学生计算机编程数学统计作业代写">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">CAB403-Car-Park-Management-System-and-Simulator</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2023-03-01T14:38:48+08:00">
                2023-03-01
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          
              <div class="post-description">
                  完成小组任务的一部分，开发和提交与停车场管理系统(Car Park Management System)相关的三个软件。
              </div>
          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h3><p>Your task is to develop and submit three pieces of software relating to a car park management system:</p>
<p>A car park management system, henceforth referred to as the ‘manager’ - software that takes care of the automated aspects of running a car park, interacting with license plate readers, boom gates and electronic displays to ensure smooth operation and accurate reporting of the car park.<br>A car park simulator, henceforth referred to as the ‘simulator’ - software that simulates all of the aforementioned pieces of hardware such that the manager can be tested without physical access to the actual car park systems. This also includes simulating the movement of vehicles around the car park.<br>A fire alarm system for the car park, henceforth known as the ‘fire alarm system’ software that interacts with temperature sensors within the car park and follows required procedures if a fire is detected. This component is regarded as a safety critical system, and while a functioning one has already been implemented (firealarm.c, available via Blackboard), your task is to assess it, write a report on its suitability as a safety-critical software component, and if necessary, fix or rewrite it.<br>These three pieces of software are all separate programs. They must be written in standard C (no other programming languages are permitted) and be compilable and runnable on the provided MX Linux virtual machine as-is. You will need to make use of the POSIX threads library (pthreads), POSIX shared memory and other libraries that you have used in the CAB403 practical classes to complete this request.</p>
<p>To simulate the interactions between the manager and the physical hardware present in the car park, a shared memory segment is used by the three programs to communicate- for example, the manager will check the status of the license plate recognition (LPR) sensors and control boom gates and digital signs by accessing this segment. A detailed description of the structure of this shared memory segment is available in the section titled ‘Shared memory’.</p>
<h3 id="What-you-need-to-submit"><a href="#What-you-need-to-submit" class="headerlink" title="What you need to submit"></a>What you need to submit</h3><p>You are required to submit, via Blackboard, a .zip archive (you can create these in MX Linux either by selecting the files in the GUI, right-clicking and choosing ‘Compress’, or by using the command line program ‘zip’) consisting of the following:</p>
<p>The C source code (may consist of .c and .h files) of your manager, simulator and fire alarm systems.<br>A Makefile which will automatically build the above three programs upon typing<br>‘make’ using the warning flags -Wall -Wextra -Werror, to ensure that all errors are enabled and that warnings are treated as errors and do not permit compilation (note that the provided firealarm.c will not compile under these conditions due to warnings)<br>Other files needed by your system (e.g. plates.txt)<br>A report (in .docx or .pdf format - MX Linux comes with LibreOffice Writer which can be used to create this) consisting of the following information:<br>The names and student numbers of everyone in your team<br>A statement of completeness describing how much of the request has been completed and any issues (e.g. known bugs)<br>A statement of contribution detailing what each member of your team contributed to the project<br>An assessment of the safety-critical fire alarm system component. This in turn will consist of:<br>Identification of safety-critical standards that the provided firealarm.c fails (e.g..from NASA’s The Power of 10, ISO 26262-6:2018, MISRA C)<br>Description of the approach you have taken to fix the problems (e.g. editing firealarm.c, completely rewriting it etc.)<br>Potential safety-critical concerns and reservations of your new implementation (for example, some safety-critical software guidelines cannot be followed perfectly - list these and how you have mitigated the concerns they pose.)<br>You are also required to submit a video demonstration, which should be no longer than 5 minutes in length, demonstrating your system in action. You can either upload a video file as part of your submission to Blackboard or upload it to e.g. YouTube and submit a link.</p>
<h3 id="Car-park-structure"><a href="#Car-park-structure" class="headerlink" title="Car park structure"></a>Car park structure</h3><p>The simulator and manager work with an abstract model of a multi-level car park with 1-5 entrances, 1-5 exits and 1-5 levels, each of which can contain some maximum number of vehicles. For the purposes of this exercise, we will assume a car park of 5 entrances, 5 exits and 5 levels, with a capacity of 20 vehicles per level; however, you are required to include constants / preprocessor #defines to allow these to be easily configured. This way the client will be able to easily recompile the software to work with different car park configurations.</p>
<p>Cars seeking to gain entry to the car park queue up at one of the entrances. Once a car appears at the front of the queue, its license plate will be read by an LPR. The manager will then look that car up in its internal list of vehicles with permission to enter the park, and if this is granted, it will display the number referring to the level of the car park that the car should park at on the digital sign above the entrance and raise the boom gate. Each level of the car park also has an LPR detecting cars when they enter and exit. This is used to determine where cars are within the car park for the purpose of ensuring incoming cars are only directed towards levels where there is free space available. Cars seeking to leave the car park will head to one of the exits. Once they are detected by an exit LPR, the boom gate at the exit will open, allowing the car to leave.</p>
<p>It is assumed that, in this abstract model of a car park, none of the entrances or exits have any special affinity with each other or with the different levels of the car park, from a location / proximity perspective. They are simply used to allow more cars to enter/exit the car park at a time.</p>
<p>The roles of the manager:</p>
<p>Monitor the status of the LPR sensors and keep track of where each car is in the car park<br>Tell the boom gates when to open and when to close (the boom gates are a simple piece of hardware that can only be told to open or close, so the job of automatically closing the boom gates after they have been open for a little while is up to the manager)<br>Control what is displayed on the information signs at each entrance<br>As the manager knows where each car is, it is the manager’s job to ensure that there is room in the car park before allowing new vehicles in (number of cars [ number of levels * the number of cars per level). The manager also needs to keep track of how full the individual levels are and direct new cars to a level that is not fully occupied<br>Keep track of how long each car has been in the parking lot and produce a bill once the car leaves.<br>Display the current status of the parking lot on a frequently-updating screen, showing how full each level is, the current status of the boom gates, signs, temperature sensors and alarms, as well as how much revenue the car park has brought in so far.<br>The roles of the fire alarm system:</p>
<p>Monitor the status of temperature sensors on each car park level<br>When a fire is detected, activate alarms on every car park level, open all boom gates and display an evacuation message on the information signs<br>The roles of the simulator:</p>
<p>Simulate cars:<br>A simulated car receives a random license plate (sometimes on the list, sometimes not) and queues up at a random entrance to the car park, triggering an LPR when it reaches the front of the queue.<br>After triggering the LPR, the simulated car will watch the digital sign. If the sign contains a number, it will keep note of that number (the level where the car has been instructed to park) and then wait for the boom gate to open. If the sign contains any other character, the simulated car will just leave the queue and drive off, disappearing from the simulation.<br>After the boom gate opens, the car will drive to the level it was instructed to drive to, triggering the level LPR in the process.<br>The car will then park for a random amount of time.<br>After the car has finished parking, it will leave, setting off the level LPR again. It will then drive towards a random exit. Upon reaching that exit, it will set off the exit LPR and wait for the boom gate to open. Once the boom gate is open, it will leave the car park and disappear from the simulation.<br>Simulate boom gates:<br>Boom gates take a certain amount of time to open and close. Once the manager has instructed a closed boom gate to open or an open boom gate to close, the simulator’s job is to wait for a small amount of time before putting the boom gate into the open/closed state.<br>Simulate temperature:<br>Each level of the car park has a temperature sensor, sending back the current temperature (in degrees celsius). The simulator will frequently update these values with reasonable random values. The simulator should also be able to simulate a fire by generating higher values, in order to test / demonstrate the fire alarm system.</p>
<h3 id="Timings"><a href="#Timings" class="headerlink" title="Timings"></a>Timings</h3><p>Things take a long time to happen in a real car park - cars take a substantial amount of time to actually move around, gates take a while to open and so forth. For the purpose of this exercise, and to make running simulations less time consuming, the simulator and manager operate within an accelerated timescale, with delays measured in milliseconds. This means that it only takes a small amount of time for the car park to be occupied by many cars. You will need to use an appropriate high resolution sleep function (usleep() or nanosleep()) in order to invoke the appropriate delays. It is suggested that you create your own function that sleeps for a certain number of milliseconds. You can then, for example, apply a multiplier to the sleep duration calculated within that function in order to experiment with different timescales (for the purposes of debugging.) Your submitted code should use the timings indicated below (or similar timings), however.</p>
<p>Note that many of these delays will happen simultaneously - for example, the time that is spent by a simulated car moving around only delays the progress of that particular car, not other cars etc. For this reason it is highly recommended that pthreads is used, which will greatly simplify the work required to implement the simulator and manager.</p>
<h3 id="Simulator-timings"><a href="#Simulator-timings" class="headerlink" title="Simulator timings"></a>Simulator timings</h3><p>Every 1-100ms*, a new car will be generated by the simulator with a random license plate, and will start moving towards a random entrance.<br>Note that when a range is listed, this means the simulator needs to generate a random number in that range (e.g. between 1 and 100 inclusively) and then wait for that length of time. Note that we are not marking you based on the statistical correctness of your choice of random number generator - the stdlib.h rand() function is fine, for example (but keep in mind that you should protect calls to rand() with a mutex as rand() accesses a global variable containing the current random seed.).</p>
<p>Once a car reaches the front of the queue, it will wait 2ms before triggering the entrance LPR.<br>Boom gates take 10ms to fully open and 10ms to fully close.<br>After the boom gate is open, the car takes another 10ms to drive its parking space (triggering the level LPR for the first time).<br>Once parked, the car will wait 100-10000ms before departing the level (and triggering the level LPR for the second time).<br>It then takes the car a further 10ms to drive to a random exit and trigger the exit LPR.<br>Every 1-5ms, the temperature on each level will change to a random value</p>
<h3 id="Manager-timings"><a href="#Manager-timings" class="headerlink" title="Manager timings"></a>Manager timings</h3><p>After a boom gate has been fully opened, it will start to close 20ms later. Cars entering the car park will just drive in if the boom gate is fully open after they have been directed to a level (however, if the car arrives just as the boom gate starts to close, it will have to wait for the boom gate to fully close, then fully open again.)<br>Cars are billed based on how long they spend in the car park (see the Billing section for more information.)</p>
<h3 id="Fire-alarm-timings"><a href="#Fire-alarm-timings" class="headerlink" title="Fire alarm timings"></a>Fire alarm timings</h3><p>The fire alarm system will collect temperature readings every 2ms for the purpose of determining if a fire has occurred<br>Once the fire alarm system is active, the character ‘E’ will be displayed on every digital sign in the parking lot. 20ms later, they will all show ‘V’, then ‘A’, ‘C’, ‘U’, ‘A’, ‘T’, ‘E’, ‘ ‘, then looping back to the first E again.</p>
<h3 id="Permitted-vehicle-identification"><a href="#Permitted-vehicle-identification" class="headerlink" title="Permitted vehicle identification"></a>Permitted vehicle identification</h3><p>When the manager is run, it will read a file in the current directory called plates.txt - this file will contain the license plates of permitted vehicles, one per line, like this:</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">029</span>MZH</span><br><span class="line"><span class="number">088</span>FSB</span><br><span class="line"><span class="number">174</span>JJD</span><br><span class="line"><span class="number">376</span>DDS</span><br><span class="line"><span class="number">451</span>HLR</span><br><span class="line"><span class="number">481</span>WPQ</span><br><span class="line"><span class="number">549</span>QHD</span><br><span class="line"><span class="number">594</span>QVK</span><br><span class="line"><span class="number">688</span>QHN</span><br><span class="line"><span class="number">931</span>KQD</span><br></pre></td></tr></table></figure>
<p>(A longer example plates.txt file is available on Blackboard.)</p>
<p>Whenever a vehicle triggers an entrance LPR, its license plate should be checked against the contents of this file. For performance / scalability reasons, the license plates need to be read into a hash table, which will then be checked when new vehicles show up. Using the hash table exercise from Practical 3 as a base is recommended, although not required.</p>
<p>If a vehicle shows up with a license plate not in plates.txt, the digital sign will display the character ‘X’ and the boom gate will not open for that vehicle.</p>
<p>In the simulator, cars should be generated with a random license plate. To ensure a good mix of permitted and not permitted cars, 50% of the time a new car should be generated with a random valid license plate (that is not currently in use by a car being simulated) and 50% of the time it should be generated with a random license plate not on the list. Once a car leaves the simulation, its license plate becomes available for reuse.</p>
<h3 id="Billing"><a href="#Billing" class="headerlink" title="Billing"></a>Billing</h3><p>Cars are billed at a rate of 5 cents for every millisecond they spend in the car park (that is, the total amount of time between the car showing up at the entrance LPR and the exit LPR). This is tracked per car and the amount of time, shown in dollars and cents, is written next to the car’s license plate into a file when the car leaves (note that cars that are turned away at the entrance attract no such fee - the fee is only for cars that are accepted into the car park.) The manager writes these, line at a time, to a file named billing.txt, each time a car leaves the car park. The billing.txt file will be created by the manager if it does not already exist, and must be opened in append mode, which means that future lines will be written to the end of the file if the file already exists (this will avoid the accidental overwriting of old billing records). Here is an example billing file:<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">029</span>MZH $<span class="number">8.25</span></span><br><span class="line"><span class="number">088</span>FSB $<span class="number">20.80</span></span><br><span class="line"><span class="number">174</span>JJD $<span class="number">14.95</span></span><br><span class="line"><span class="number">376</span>DDS $<span class="number">32.50</span></span><br><span class="line"><span class="number">451</span>HLR $<span class="number">11.00</span></span><br></pre></td></tr></table></figure></p>
<h3 id="Fire-detection"><a href="#Fire-detection" class="headerlink" title="Fire detection"></a>Fire detection</h3><p>The fire alarm system utilises temperature sensors to determine if a fire has occurred. Each temperature sensor (there is one on each level) returns a signed 16-bit integer containing the current temperature it is picking up. Because of the potential for noise and incorrect values being generated by the temperature sensor, the fire alarm system will smooth the data in the following way:</p>
<p>For each temperature sensor, the monitor will store the temperature value read from that sensor every 2 milliseconds. Out of the 5 most recent temperature readings, the median temperature will be recorded as the ‘smoothed’ reading for that sensor.<br>The 30 most recent smoothed temperatures are then analysed (before 30 smoothed temperatures have been read, the fire alarm system cannot use this sensor to detect the presence of a fire.<br>The fire alarm system then uses two approaches to determine the presence of a fire- fixed temperature and rate of rise. If either of these approaches detects a fire, the alarm is triggered.</p>
<h3 id="Fixed-temperature-fire-detection"><a href="#Fixed-temperature-fire-detection" class="headerlink" title="Fixed temperature fire detection"></a>Fixed temperature fire detection</h3><p>Out of the 30 most recent smoothed temperatures produced by a sensor, if 90% of them are 58C or higher, the temperature is considered high enough that there must be a fire.</p>
<h3 id="Rate-of-rise-fire-detection"><a href="#Rate-of-rise-fire-detection" class="headerlink" title="Rate-of-rise fire detection"></a>Rate-of-rise fire detection</h3><p>Out of the 30 most recent smoothed temperatures produced by a sensor, if the most recent temperature is 8C (or more) hotter than the 30th most recent temperature, the temperature is considered to be growing at a fast enough rate that there must be a fire.</p>
<p>For testing and demonstration purposes, your simulator should have the ability to generate both of these scenarios, to ensure that both successfully trigger the alarm.</p>
<h3 id="Shared-memory"><a href="#Shared-memory" class="headerlink" title="Shared memory"></a>Shared memory</h3><p>The three processes communicate via a shared memory segment named PARKING (all caps). The PARKING segment is 2920 bytes in size. The simulator needs to create this segment when it is first started (the segment may already exist from a previous run, in which case the simulator creates it again, overwriting the old one. The manager and fire alarm system both open the existing PARKING segment when they are started (and will print an error message and exit if it is not present.) The segment contains space for 5 parking lot entrances, 5 exits and 5 levels.</p>
<h3 id="Inter-process-communication"><a href="#Inter-process-communication" class="headerlink" title="Inter-process communication"></a>Inter-process communication</h3><p>Most of the values in the shared memory structure are accompanied by a mutex and a condition variable. These must be initialised by the simulator when the shared memory segment is created. Note that these mutexes and condition variables are accessed by different processes, which means they need to be process shared. By default, mutexes and condition variables are PTHREAD_PROCESS_PRIVATE, which means pthread_mutexattr_setpshared() and pthread_condattr_setpshared() need to be used to make these PTHREAD_PROCESS_SHARED, which will allow them to work correctly across multiple processes.</p>
<p>Mutexes are used to protect the integrity of shared data. The normal approach before accessing most values in the shared memory structure is to lock the associated mutex, read/write the value, then unlock the associated mutex.</p>
<p>Condition variables are used to allow threads to wait for a particular value to change in order to avoid busywaiting. Busywaiting must be avoided in this request where possible for a description of busywaiting, see Appendix B. When changing a value, the associated condition variable should be broadcast to, allowing threads that are waiting on that value to wake up and check it.</p>
<p>The process for waiting on a particular shared memory variable is usually the following:</p>
<p>The thread that is waiting on a value (e.g. for a boom gate to switch to its ‘open’ state) first acquires the mutex associated with that value.<br>The thread then waits on the associated condition variable, passing the mutex as the second parameter. This will also unlock the mutex while the thread is waiting.<br>Once the value has been changed and the condition variable broadcast to, the thread will wake up, re-acquire the mutex and check the value again, before making a decision about whether to continue waiting or not.<br>Finally, the thread will unlock the mutex and continue.<br>The temperature sensors and alarms are not protected by mutexes. Writes to them need to be atomic and the ‘volatile’ keyword in C should be used to ensure that reads and writes reflect the true contents of the shared memory segment.</p>
<h3 id="Shared-memory-structure"><a href="#Shared-memory-structure" class="headerlink" title="Shared memory structure"></a>Shared memory structure</h3><p>Bytes 0-1439 contain space for 5 entrances, each 288 bytes large. Each entrance consists of the following:</p>
<p>A license plate recognition sensor (96 bytes, at bytes 0-95)<br>A boom gate (96 bytes, at bytes 96-191)<br>An information sign (96 bytes, at bytes 192-287)<br>(Definitions for each of these appear later in this document, as some are reused in different areas.)</p>
<p>Bytes 1440-2399 contain space for 5 exits, each 192 bytes large. Each exit consists of the following:</p>
<p>A license plate recognition sensor (96 bytes, at bytes 0-95)<br>A boom gate (96 bytes, at bytes 96-191)<br>Bytes 2400-2919 contain space for 5 levels, each 104 bytes large. Each level consists of the following:</p>
<p>A license plate recognition sensor (96 bytes, at bytes 0-95)<br>A temperature sensor (2 bytes, at bytes 96-97)<br>An alarm (1 byte, at byte 98)<br>Padding (5 bytes, at bytes 99-103), not used for anything<br>Each license plate recognition (LPR) sensor is 96 bytes large and consists of the following:</p>
<p>A pthread_mutex_t mutex lock (40 bytes, at bytes 0-39)<br>A pthread_cond_t condition variable (48 bytes, at bytes 40-87)<br>A license plate, 6 characters long (6 bytes, at bytes 88-93)<br>Padding (2 bytes, at bytes 94-95), not used for anything<br>Vehicles pass in front of the various LPR sensors at different times depending on where the LPR is located:</p>
<p>The LPR at the entrance will detect a vehicle approaching the boom gate<br>The LPR at the exit will detect a vehicle approaching the exit boom gate<br>The LPR on each level of the parking lot will detect any vehicle entering or exiting that level.<br>It can be assumed that, in a normal case, a vehicle will appear on LPRs 4 times- once at an entrance, twice on the floor the vehicle parks on, and once when exiting the parking lot. When a vehicle passes an LPR, the vehicle’s license plate is written to the 6 character license plate field in that LPR and the LPR’s condition variable is signalled. The mutex is used to protect the license plate data against concurrent access.</p>
<p>Each boom gate is 96 bytes large and consists of the following:</p>
<p>A pthread_mutex_t mutex lock (40 bytes, at bytes 0-39)<br>A pthread_cond_t condition variable (48 bytes, at bytes 40-87)<br>The boom gate’s status, 1 character long (1 byte, at byte 88)<br>Padding (7 bytes, at bytes 89-95), not used for anything<br>There are 4 acceptable values for the boom gate’s status:</p>
<p>‘C’ - Closed. This is the default value every gate should start in.<br>‘O’ - Open. Vehicles can only pass through the gate while it is open.<br>‘R’ - Raising. Boom gate is currently in the process of being raised. To open the boom gate, the manager sets the gate’s status character to ‘R’ and signals the condition variable. The simulator will then set the status character to ‘O’ after 10 milliseconds.<br>‘L’ - Lowering. Boom gate is currently in the process of being lowered. To close the boom gate, the manager sets the gate’s status character to ‘L’ and signals the condition variable. The simulator will then set the status character to ‘C’ after 10 milliseconds.<br>Note that the only acceptable status changes are as follows: C -&gt; R, R -&gt; O, O -&gt; L, L -&gt; C. Only the manager can change the boom gate’s status from C to R or O to L and only the simulator can change the boom gate’s status from R to O or L to C. Any other status changes are in error.</p>
<p>An information sign is 96 bytes large and consists of the following:</p>
<p>A pthread_mutex_t mutex lock (40 bytes, at bytes 0-39)<br>A pthread_cond_t condition variable (48 bytes, at bytes 40-87)<br>The information sign’s display, 1 character long (1 byte, at byte 88)<br>Padding (7 bytes, at bytes 89-95), not used for anything<br>The information sign is very basic and only has room to display a single character. It is used to show information to drivers at various points:</p>
<p>When the driver pulls up in front of the entrance boom gate and triggers the LPR, the sign will show a character between ‘1’ and ‘5’ to indicate which floor the driver should park on.<br>If the driver is unable to access the car park due to not being in the access file, the sign will show the character ‘X’.<br>If the driver is unable to access the car park due to it being full, the sign will show the character ‘F’.<br>In the case of a fire, the information sign will cycle through the characters ‘E’ ‘V’ ‘A’ ‘C’ ‘U’ ‘A’ ‘T’ ‘E’ ‘ ‘, spending 20ms on each character and then looping back to the first ‘E’ after displaying the space character..<br>To show a new message on the sign, the display character is set and the condition variable broadcast to (to inform any processes waiting for the sign to change.)</p>
<p>The per-level temperature sensor is 2 bytes long and consists of a signed 16-bit integer representing the current temperature (in degrees celsius) detected on that floor. Note that the temperature sensors are not expected to be perfect and may occasionally contain incorrect values. This will be written to by the simulator and read by the fire alarm system (note that there is no mutex protecting this value).</p>
<p>The per-level alarm is 1 byte long and simply contains a value of 0 or 1 depending on whether the alarm is on or not (default is 0). Again, no mutex protects this value.</p>
<p>Some additional notes about the shared memory segment’s layout:</p>
<p>The size of the mutex (40 bytes) and condition variable (48 bytes) are platform-dependent. The values that have been given are for the MX Linux virtual machine where we will be testing your code. You are free to develop the code on the platform of your choice, but just make sure to keep in mind where your code will be run.<br>You can directly address the variables via their memory address (e.g. (pthread_mutex_t *)(ptr + 96) to get a pointer to the mutex for the boom gate for Entrance #1), but it may be better to create a struct with the same fields to assist with layout.<br>Appendix A contains the locations of every variable in the shared memory segment, which you might find useful as a reference<br>Unusual behaviour of vehicles<br>When a vehicle shows up at the entrance and is permitted entry, it is shown a level number and it is expected that the vehicle will go and park on that level. However, in reality, once the vehicle is inside the car park it can drive wherever it wants to go, including to a different level, or directly to the exit. A vehicle can even move between levels. For this reason, LPRs on each level are present, detecting a vehicle accessing other levels. Potential unusual activity of vehicles does need to be taken into account by the manager when determining how to assign vehicles to levels. This needs to happen in the following way:</p>
<p>The car park keeps track of both the number of vehicles assigned to each level and the level that each vehicle is currently assigned to<br>When a vehicle is directed by the digital sign to a level, that vehicle will be assigned to that level. Hence, if two vehicles arrive, one after another, they will not both be directed to a level that only has space for one more vehicle.<br>However, if the vehicle is detected moving into another level by one of the per-level LPRs, it will then be counted as being assigned to that level if there is room on that level. That is, if a vehicle was directed towards level 1, it would initially count towards level 1’s capacity. However, if that vehicle is then spotted by level 2’s LPR, if level 2 has room for it, it will be subtracted from level 1’s capacity and then added to level<br>Status display<br>When the manager program is run, the terminal it is run in should display a (text mode) screen showing the current status of the car park. The exact layout and formatting is up to you, but the following information is expected to be presented:</p>
<p>Current state of each LPR, boom gate and digital sign<br>Current state of each temperature sensor<br>Number of vehicles and maximum capacity on each level<br>Total billing revenue recorded by the manager thus far<br>The way the information is presented also has some requirements:</p>
<p>The display should update frequently (e.g. every 50ms)<br>To prevent visual fatigue from trying to process rapidly scrolling text, all the above information should be able to fit into a single screen. In addition, before printing out the current status, the screen should be cleared (e.g. with system(“clear”)), again, to prevent scrolling.</p>
<h3 id="Video-demonstration"><a href="#Video-demonstration" class="headerlink" title="Video demonstration"></a>Video demonstration</h3><p>You need to produce a short video demonstration showing your software in action, with most of the focus being on the manager program, given that its status display should be able to show you what is going on. You will want to demonstrate ordinary operation, as well as exceptional situations such as a spike in temperatures indicating the presence of a fire (and the response of the fire alarm system.)</p>
<p>Two examples programs that can be used to record a video fairly easily are Zoom and OBS Studio. With Zoom you can start up a meeting by yourself (or with other members of your team), share your screen, start recording the meeting and then demonstrate it that way.</p>
<p>The video is your way of demonstrating how your software is supposed to work, as well as showing that you’ve implemented the functionality you are required to. As a general rule, if you want to receive marks for a certain component in your software, you need to demonstrate it in the video.</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Fundamentals/" rel="tag"># Fundamentals</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/PSY4219-Gaussians-Filter.html" rel="next" title="PSY4219-Gaussians-Filter">
                <i class="fa fa-chevron-left"></i> PSY4219-Gaussians-Filter
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/COMP9012-Flow-Puzzle.html" rel="prev" title="COMP9012-Flow-Puzzle">
                COMP9012-Flow-Puzzle <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.gif" alt="CPlusPlus小砖家">
            
              <p class="site-author-name" itemprop="name">CPlusPlus小砖家</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">335</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">25</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">60</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="mailto:1926742804@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Overview"><span class="nav-number">1.</span> <span class="nav-text">Overview</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#What-you-need-to-submit"><span class="nav-number">2.</span> <span class="nav-text">What you need to submit</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Car-park-structure"><span class="nav-number">3.</span> <span class="nav-text">Car park structure</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Timings"><span class="nav-number">4.</span> <span class="nav-text">Timings</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Simulator-timings"><span class="nav-number">5.</span> <span class="nav-text">Simulator timings</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Manager-timings"><span class="nav-number">6.</span> <span class="nav-text">Manager timings</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Fire-alarm-timings"><span class="nav-number">7.</span> <span class="nav-text">Fire alarm timings</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Permitted-vehicle-identification"><span class="nav-number">8.</span> <span class="nav-text">Permitted vehicle identification</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Billing"><span class="nav-number">9.</span> <span class="nav-text">Billing</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Fire-detection"><span class="nav-number">10.</span> <span class="nav-text">Fire detection</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Fixed-temperature-fire-detection"><span class="nav-number">11.</span> <span class="nav-text">Fixed temperature fire detection</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Rate-of-rise-fire-detection"><span class="nav-number">12.</span> <span class="nav-text">Rate-of-rise fire detection</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Shared-memory"><span class="nav-number">13.</span> <span class="nav-text">Shared memory</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Inter-process-communication"><span class="nav-number">14.</span> <span class="nav-text">Inter-process communication</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Shared-memory-structure"><span class="nav-number">15.</span> <span class="nav-text">Shared memory structure</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Video-demonstration"><span class="nav-number">16.</span> <span class="nav-text">Video demonstration</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 &mdash; <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CPlusPlus小砖家</span>

  
</div>










    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <span id="busuanzi_container_site_pv">总访问量<span id="busuanzi_value_site_pv"></span>次</span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">总访客<span id="busuanzi_value_site_uv"></span>人</span>
    <span class="post-meta-divider">|</span>


        







        
      </div>
    </footer>

    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="true"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  

  

  
  
	<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js">
	</script>
  
</body>
</html>
